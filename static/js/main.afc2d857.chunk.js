(this.webpackJsonpcoincap=this.webpackJsonpcoincap||[]).push([[0],{149:function(e,t,n){},150:function(e,t,n){},249:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(35),r=n.n(i),o=(n(149),n(150),n(151),n(22)),s=n(32),l=n(29),d=n(251),j=n(26),u=n(24),p={data:[]},m=function(){return function(e){var t=localStorage.getItem("portfolio");t&&e(function(e){return{type:"COINCAP/SET-DATA",data:e}}(JSON.parse(t)))}},b=n(6),O=function(e){var t=e.toggle,n=Object(l.c)((function(e){return e.portfolio.data})),c=Object(l.b)(),i=[{title:"Name",dataIndex:"name",key:"name"},{title:"Price",dataIndex:"price",key:"price"},{title:"Market Cap",dataIndex:"marketCap",key:"marketCap"},{title:"VWAP (24Hr)",dataIndex:"vwap",key:"vwap"},{title:"Supply",dataIndex:"supply",key:"supply"},{title:"Volume (24Hr)",dataIndex:"volume",key:"volume"},{title:"Change (24Hr)",dataIndex:"change",key:"change"},{title:"Amount",dataIndex:"amount",key:"amount"},{title:"Total ($)",dataIndex:"total",key:"total"},{title:"Action",dataIndex:"action",key:"action",render:function(e,t){return Object(b.jsx)("button",{className:"portfolio__remove",onClick:function(){return r(t.key)},children:"\xd7"},t.key)}}];Object(a.useEffect)((function(){c(m())}),[c]);var r=function(e){c(function(e){return function(t){var n=localStorage.getItem("portfolio");if(n){var a=JSON.parse(n).filter((function(t){return t.key!==e}));localStorage.setItem("portfolio",JSON.stringify(a))}t(m())}}(e))};return Object(b.jsx)("div",{className:"portfolio",children:Object(b.jsxs)("div",{className:"portfolio__container",children:[Object(b.jsx)("p",{className:"portfolio__title",children:"Portfolio"}),Object(b.jsx)(d.a,{columns:i,dataSource:n,size:"small",pagination:!1}),Object(b.jsx)("button",{className:"portfolio__cancel",onClick:t,children:"Cancel"})]})})},x=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(l.c)((function(e){return e.main.coinsCollection})),r=localStorage.getItem("portfolio"),o=i.slice(0,3),d=function(){c(!n)};return Object(b.jsxs)("div",{className:"header",children:[Object(b.jsx)("div",{className:"app__container",children:Object(b.jsxs)("div",{className:"header__container",children:[Object(b.jsx)("div",{className:"header__popular",children:o.map((function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{children:e.symbol}),Object(b.jsx)("span",{className:"header__popular_price",children:"$"+(+e.priceUsd).toFixed(2)})]},e.id)}))}),Object(b.jsxs)("div",{className:"header__portfolio_wrapper",children:[Object(b.jsxs)("span",{children:["($",function(){if(r)return JSON.parse(r).map((function(e){return+e.total})).reduce((function(e,t){return e+t})).toFixed(2)}(),")"]}),Object(b.jsx)("button",{className:"header__portfolio",onClick:d})]})]})}),n&&Object(b.jsx)(O,{toggle:d})]})},f=n(50),h=n(135),v=n.n(h).a.create({baseURL:"https://api.coincap.io/v2"}),g=function(e){return v.get("/assets",e)},y=function(e){return v.get("/assets/".concat(e))},k=function(e){return v.get("/assets/".concat(e,"/history?interval=h1"))},C={coinsCollection:[]},N=function(e){return function(t){g(e).then((function(e){t({type:"COINCAP/SET-COINS-COLLECTION",data:e.data.data})})).catch((function(e){console.log(e)}))}},_=function(e){return e>=1e12?(e/1e12).toFixed(2)+"t":e>=1e9?(e/1e9).toFixed(2)+"b":e>=1e6?(e/1e6).toFixed(2)+"m":e>=1e3?(e/1e3).toFixed(2)+"k":e.toFixed(2)},I=function(e,t,n,a){var c=a?{current:a}:{};return!!(n&&n>t)&&Object(u.a)(Object(u.a)({},c),{},{hideOnSinglePage:!0,showSizeChanger:!1,position:["bottomRight"],onChange:function(n){return e(t,t*(n-1),n)},pageSize:t,total:n})},S=n(252),P=function(e){var t=e.currentCoin,n=e.toggle,c=Object(a.useState)(""),i=Object(s.a)(c,2),r=i[0],o=i[1],d=Object(a.useState)(0),u=Object(s.a)(d,2),p=u[0],m=u[1],O=Object(l.b)();return Object(b.jsx)("div",{className:"modal",children:Object(b.jsxs)("div",{className:"modal__container",children:[Object(b.jsxs)("div",{className:"modal__name",children:[t.name," (",t.symbol,")"]}),Object(b.jsxs)("div",{className:"modal__description",children:["Price: ",t.price]}),Object(b.jsxs)("div",{className:"modal__description",children:[Object(b.jsx)("span",{children:"Amount:"}),Object(b.jsx)(S.a,{type:"number",step:"0.1",min:"0",onChange:function(e){o(e.target.value),function(e){var n=+e*+t.price.substring(1);m(n)}(e.target.value)}})]}),Object(b.jsxs)("div",{className:"modal__description",children:["Total: $",p.toFixed(2)]}),Object(b.jsxs)("div",{className:"modal__btns",children:[Object(b.jsx)(f.a,{className:"modal__cancel_btn",onClick:n,children:"Cancel"}),Object(b.jsx)(f.a,{className:"modal__add_btn",onClick:function(){O(function(e,t,n){return function(a){var c=localStorage.getItem("portfolio"),i={key:e.key,rank:e.rank,name:e.name,price:e.price,marketCap:e.marketCap,vwap:e.vwap,supply:e.supply,volume:e.volume,change:e.change,symbol:e.symbol,amount:+t,total:n.toFixed(2)};if(c){var r=JSON.parse(c),o=r.find((function(e){return e.name===i.name}));if(o){r=r.filter((function(e){return e.name!==o.name}));var s=JSON.stringify([i].concat(Object(j.a)(r)));localStorage.setItem("portfolio",s)}else{var l=JSON.stringify([i].concat(Object(j.a)(JSON.parse(c))));localStorage.setItem("portfolio",l)}}else{var d=JSON.stringify([i]);localStorage.setItem("portfolio",d)}}}(t,r,p))},children:"Add"})]})]})})},A=function(){var e=Object(a.useState)(1),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),r=Object(s.a)(i,2),j=r[0],p=r[1],m=Object(a.useState)(),O=Object(s.a)(m,2),x=O[0],h=O[1],v=Object(l.c)((function(e){return e.main.coinsCollection})),g=Object(l.b)(),y=Object(o.f)(),k=v.map((function(e){return{key:e.id,rank:e.rank,name:e.name,price:"$"+(+e.priceUsd).toFixed(2),marketCap:"$"+_(+e.marketCapUsd),vwap:"$"+(+e.vwap24Hr).toFixed(2),supply:_(+e.supply),volume:"$"+_(+e.volumeUsd24Hr),change:(+e.changePercent24Hr).toFixed(2)+"%",symbol:e.symbol}})),C=[{title:"Rank",dataIndex:"rank",key:"rank"},{title:"Name",dataIndex:"name",key:"name"},{title:"Price",dataIndex:"price",key:"price"},{title:"Market Cap",dataIndex:"marketCap",key:"marketCap"},{title:"VWAP (24Hr)",dataIndex:"vwap",key:"vwap"},{title:"Supply",dataIndex:"supply",key:"supply"},{title:"Volume (24Hr)",dataIndex:"volume",key:"volume"},{title:"Change (24Hr)",dataIndex:"change",key:"change"},{title:"Action",dataIndex:"action",key:"action",render:function(e,t){return Object(b.jsx)(f.a,{onClick:function(){return A(t)},children:"+"},t.key)}}];Object(a.useEffect)((function(){g(N());var e=setInterval((function(){g(N())}),7e3);return function(){return clearInterval(e)}}),[g]);var S=I((function(e,t,n){c(n),function(e){var t={limit:20};g(N(Object(u.a)(Object(u.a)({},t),e)))}({limit:e,offset:t})}),20,v.length,n),A=function(e){p(!j),h(e)};return Object(b.jsxs)("div",{className:"main",children:[Object(b.jsx)("div",{className:"app__container",children:Object(b.jsx)(d.a,{className:"main__table",columns:C,dataSource:k,pagination:S,size:"small",onRow:function(e){return{onDoubleClick:function(){return t=e.key,localStorage.setItem("coinId",t),void y.push("/details");var t}}}})}),j&&x&&Object(b.jsx)(P,{currentCoin:x,toggle:A})]})},F=function(){return Object(b.jsx)("div",{className:"footer",children:Object(b.jsx)("div",{className:"app__container",children:Object(b.jsx)("a",{href:"https://github.com/vsmaliakou",target:"_blank",rel:"noreferrer",children:"vsmaliakou"})})})},T={coinDetails:{},coinPoints:[]},w=function(e){return function(t){y(e).then((function(n){t(function(e){return function(t){k(e).then((function(e){t({type:"COINCAP/SET-COIN-POINTS",data:e.data.data})})).catch((function(e){console.log(e)}))}}(e)),t({type:"COINCAP/SET-COIN-DETAILS",data:n.data.data})})).catch((function(e){console.log(e)}))}},E=n(138),H=function(e){var t=e.coinPoints.map((function(e){return(+e.priceUsd).toFixed(2)})),n={labels:["1am","2am","3am","4am","5am","6am","7am","8am","9am","10am","11am","12am","1pm","2pm","3pm","4pm","5pm","6pm","7pm","8pm","9pm","10pm","11pm","12pm"],datasets:[{label:"",data:t.slice(t.length-25,-1),fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)"}]};return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(E.a,{data:n})})},$=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1],i=localStorage.getItem("coinId"),r=Object(l.c)((function(e){return e.details.coinPoints})),o=Object(l.c)((function(e){return e.details.coinDetails})),d={key:o.id,rank:o.rank,name:o.name,price:"$"+(+o.priceUsd).toFixed(2),marketCap:"$"+_(+o.marketCapUsd),vwap:"$"+(+o.vwap24Hr).toFixed(2),supply:_(+o.supply),maxSupply:_(+o.maxSupply),volume:"$"+_(+o.volumeUsd24Hr),change:(+o.changePercent24Hr).toFixed(2)+"%",symbol:o.symbol,explorer:o.explorer},j=Object(l.b)();Object(a.useEffect)((function(){i&&j(w(i))}),[i,j]);var u=function(){c(!n)};return Object(b.jsxs)("div",{className:"coin-details",children:[Object(b.jsx)("div",{className:"app__container",children:Object(b.jsxs)("div",{className:"coin-details__container",children:[Object(b.jsxs)("div",{className:"coin-details__description",children:[Object(b.jsxs)("div",{className:"coin__name",children:[d.name," (",d.symbol,")"]}),Object(b.jsxs)("div",{children:["rank:",Object(b.jsx)("span",{children:d.rank})]}),Object(b.jsxs)("div",{className:"coin__description",children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:["Price:",Object(b.jsx)("span",{children:d.price})]}),Object(b.jsxs)("div",{children:["Market Cap:",Object(b.jsx)("span",{children:d.marketCap})]}),Object(b.jsxs)("div",{children:["Supply:",Object(b.jsx)("span",{children:d.supply})]}),Object(b.jsxs)("div",{children:["VWAP:",Object(b.jsx)("span",{children:d.vwap})]})]}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:["Change:",Object(b.jsx)("span",{children:d.change})]}),Object(b.jsxs)("div",{children:["Volume (24Hr):",Object(b.jsx)("span",{children:d.volume})]}),Object(b.jsxs)("div",{children:["Max Supply:",Object(b.jsx)("span",{children:d.maxSupply})]}),Object(b.jsx)("div",{children:Object(b.jsx)("a",{href:d.explorer,children:"explorer"})})]})]}),Object(b.jsx)(f.a,{className:"coin__add_btn",onClick:u,children:"Add"})]}),Object(b.jsx)("div",{className:"coin-details__chart",children:Object(b.jsx)(H,{coinPoints:r})})]})}),n&&Object(b.jsx)(P,{currentCoin:d,toggle:u})]})};var J=function(){return Object(b.jsxs)("div",{className:"app",children:[Object(b.jsx)(x,{}),Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{path:"/details",render:function(){return Object(b.jsx)($,{})}}),Object(b.jsx)(o.a,{path:"*",render:function(){return Object(b.jsx)(A,{})}})]}),Object(b.jsx)(F,{})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,253)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))},L=n(105),U=n(97),V=n(137),M=Object(U.b)({main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;return"COINCAP/SET-COINS-COLLECTION"===t.type?Object(u.a)(Object(u.a)({},e),{},{coinsCollection:t.data}):e},details:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COINCAP/SET-COIN-DETAILS":return Object(u.a)(Object(u.a)({},e),{},{coinDetails:t.data});case"COINCAP/SET-COIN-POINTS":return Object(u.a)(Object(u.a)({},e),{},{coinPoints:t.data});default:return e}},portfolio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;return"COINCAP/SET-DATA"===t.type?Object(u.a)(Object(u.a)({},e),{},{data:t.data}):e}}),z=Object(U.c)(M,Object(U.a)(V.a));r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(l.a,{store:z,children:Object(b.jsx)(L.a,{children:Object(b.jsx)(J,{})})})}),document.getElementById("root")),D()}},[[249,1,2]]]);
//# sourceMappingURL=main.afc2d857.chunk.js.map